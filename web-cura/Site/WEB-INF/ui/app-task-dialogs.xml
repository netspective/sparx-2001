<?xml version="1.0"?>

<xaf>
    <dialogs package="task">
        <dialog name="registration" heading="create-data-cmd-heading:Task" retain-params="*" class="app.form.TaskDialog">
            <field.separator heading="Information"/>
            <field.integer name="task_id" caption="ID" read-only="browser">
                <conditional action="apply-flag" flag="invisible" data-cmd="add"/>
            </field.integer>
            <field.text name="task_type" caption="Type"  required="yes"/>
            <field.text name="task_summary" caption="Summary" required="yes"/>
            <field.memo name="task_descr" caption="Description" />
            <field.text name="priority_id" caption="Priority" required="yes" />
            <field.text name="task_status" caption="Status" >
                <conditional action="apply-flag" flag="invisible" data-cmd="add"/>
            </field.text>
            <field.text name="task_resolution" caption="Resolution" >
                <conditional action="apply-flag" flag="invisible" data-cmd="add"/>
            </field.text>

            <field.separator heading="Assign Task"/>
            <field.select name="owner_org_id" caption="Organization" choices="query:person.active-org-memberships-name-id"
                prepend-blank="yes" required="yes">
            </field.select>
            <field.select name="owner_project_id" caption="Project" choices="" >
            </field.select>
            <field.text name="owner_person_id" caption="Person" >
                <popup action="config-app-url:/org/index.jsp?panel,org." fill="owner_person_id"/>
            </field.text>

        </dialog>
    </dialogs>
</xaf>