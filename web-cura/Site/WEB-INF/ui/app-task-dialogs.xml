<?xml version="1.0"?>

<xaf>
    <dialogs package="task">
        <dialog name="registration" heading="create-data-cmd-heading:Task" retain-params="*" class="app.form.TaskDialog">
            <field.separator heading="Information"/>
            <!-- field.integer name="task_id" caption="ID">
                <conditional action="apply-flag" flag="invisible" data-cmd="add"/>
            </field.integer -->
            <!-- field.text name="task_type" caption="Type"  required="yes"/ -->
            <field.text name="task_summary" caption="Task Name" required="yes"/>
            <field.select name="task_owner" caption="Owner" hidden="yes"/>
            <field.memo name="task_descr" caption="Description" />
            <field.select name="priority_id" caption="Priority" required="yes" choices="query:task.priority-list"/>
            <!-- field.select name="parent_task_id" caption="Parent" prepend-blank="yes" choices="query:task.type-list"/-->
            <field.select name="task_type" caption="Type" required="yes" prepend-blank="yes" choices="query:task.type-list" default="request:task_type"/>
            <field.select name="task_status" caption="Status" choices="query:task.status-list">
                <!-- conditional action="apply-flag" flag="invisible" data-cmd="add"/ -->
            </field.select>
            <field.date name="start_date" caption="Start Date" popup-calendar="yes"/>
            <field.date name="end_date" caption="End Date" popup-calendar="yes"/>
        </dialog>
        <dialog name="person_registeration" heading="Assign Contact" retain-params="*" >
            <field.integer name="cr_person_id" hidden="yes" default="session:person_id"/>
            <field.integer name="cr_org_id" hidden="yes" default="session:organization"/>
            <field.integer name="task_id" hidden="yes" default="request:task_id"/>
            <field.text name="task_summary" caption="Summary" read-only="browser" default="request:task_summary"/>
            <field.select name="rel_person_id" style="multidual" caption="Contacts" required="yes"
                choices="query:org.selected-org-person-list" default="query:task.member-persons">
            </field.select>
        </dialog>
    </dialogs>
</xaf>